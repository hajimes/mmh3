---
name: Build and Upload Wheels to PyPI

on:
  workflow_dispatch:

permissions:
  id-token: write

jobs:
  publish:
    if: github.ref_type == 'tag'
    permissions:
      contents: read
      packages: read
    uses: ./.github/workflows/wheels.yml
    with:
      pypi-repository: "pypi"
      pypi-url: "https://pypi.org/p/mmh3"
      pypi-endpoint: "https://upload.pypi.org/legacy/"
